<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>비글본 블랙 BeagleBone Black 에서 KT IPTV를? — blog</title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdn.mathjax.org">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all">
    <meta name="keywords" >
    <link rel="canonical" >
    <!-- Custom CSS -->

    <link rel="stylesheet" href="../../static/gen/styles.css?h=30966fac">
    <!--
      <link rel="stylesheet" href="../../static/pixyll.css" type="text/css">
    -->
    <script type=text/javascript src="../../static/gen/app.js?h=56f85b4f" charset="utf-8"></script>
    <link rel="stylesheet" href="../../static/pygments.css">
    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300&subset=latin-ext,latin' rel='stylesheet' type='text/css'>

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">

    <!-- MathJax -->
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  </head>

  <body class="site">
    <div class="site-wrap">
      <header class="site-header px2 px-responsive">
        <div class="mt2 wrap">
          <div class="measure">
            <a href="" class="site-title"></a>
            <nav class="site-nav">
              <a href="../../">Home</a>
              
               <a href="../../blog/">Blog</a>
              
              <a href="../../projects/">Projects</a>
              
              <a href="../../about/">About</a>
              
            </nav>
            <div class="clearfix"></div>
            
          </div>
        </div>
      </header>
      <div class="post p2 p-responsive wrap" role="main">
        <div class="measure">
          <div class="page">
            
  
  <div class="post-header mb2">
  
    <h1>비글본 블랙 BeagleBone Black 에서 KT IPTV를?</h1>
  
  <p class="post-meta">
    <!--
    written by
    
      rockheung
    
    -->
    
    <time class="dt-published" datetime="2018-03-27 14:44:38+09:00">Mar 27, 2018, 2:44:38 PM</time>
    
  </p>
  </div>
  <article class="post-content">
    
      <h3>본인의 집에서는 현재 KT IPTV를 신청해서 보고 있다. 이전 글에서 얘기했었지만, tvheadend를 이용해서 IPTV를 컴퓨터로 시청하고자 한다.</h3>
<p>KT IPTV를 시청하려면, 시청할 때 사용하는 컴퓨터나 기기가 KT에서 공인 아이피를 받아와야 한다. 다른 방법도 있는데, iptime 공유기 대부분이 지원하는 KT IPTV옵션을 사용하면 된다. 본인은 현재 집에서 미크로틱 라우터를 사용하고 있어서 iptime의 경우처럼 간편하게는 안 되고, 라우터에 해당 LAN포트가 직접 WAN에서 IP를 받아오도록 라우터에서 약간의 수작업이 필요하다. 그러면 음 해당 기기를 방안에 놓으려면 본인의 XPEnology의 기가랜 연결을 포기해야 하고 읍읍... 여튼 그러느니 그냥 포트도 4개나 되는 KT 모뎀에 직접 연결하는게 낫겠다고 판단했다.</p>
<p>그렇다면 다음으로 결정할 부분은 어떤 하드웨어를 사용하냐이다. 본인의 집에는 현재 사용하지 않는 X86 cpu가 몇 개 있다. 그렇지만 tvheadend는 자신들의 위키에 다음과 같이 설명해놨다.</p>
<h3>How Lightweight?</h3>
<p>How about light enough to run on a travel router? Take a look at this <a href="https://tvheadend.org/boards/4/topics/16579">example</a> from one of our users…</p>
<p>연결되는 링크로 가 보면, 얼마나 <em>가벼운</em> 소프트웨어인지를 여실히 보여준다. 여행용 라우터에 dd-wrt 펌웨어를 올리고 TV 수신  USB 동글을 연결해 tvheadend로 공중파를 시청하고 있다. 라우터의 사양은 8MB flash, 64MB RAM, 600 MHz MIPS CPU 였다.</p>
<p>이런 소프트웨어를 x86에서 사용한다는건, 너무나 오버스펙이라고 판단했다. 라즈베리파이로도 FHD 영상을 서너개씩 동시 녹화한다는 글을 보고  ARM 계열을 고려했다.</p>
<p>작년에 KNCminer를 중지하고 일년여 동안 먼지만 쌓이던 컨트롤보드가 비글본 블랙이었던게 생각났다. 정확히는 비글본 블랙에 마이너용 확장을 끼운 형태였는데, 스펙으로는 충분할 것 같았다.</p>
<ul>
<li>Processor: AM335x 1GHz ARM® Cortex-A8</li>
<li>512MB DDR3 RAM</li>
<li>2GB 8-bit eMMC on-board flash storage</li>
</ul>
<p>가지고 있던 제품은 확인해보니 리버전되기 전 모델이어서에는 2GB eMMC가 온보드되어 있었다. 그것만으로 충분했다. beagleboard 사이트에서 제공하는 OS는 데비안이었는데, 아무래도 다양한 IOT 개발 킷도 포함하는지 용량이 생각보다 컸다. 본인은 데비안 계열 중에 우분투가 아무래도 더 편해서 그냥 깨끗한 우분투만 설치할까 생각하던 차에, tvheadend 위키에서 armhf 아키텍처를 지원하는 repository는 데비안 계열 중에 우분투가 유일함을 발견했다. 고민할 여지가 없었다. <a href="https://elinux.org/BeagleBoardUbuntu">elinux.org</a>를 참고해서 비글본의  eMMC에 설치했다.</p>
<p>tvheadend를 설치하여 이전에 omvs로 긁었던 KT IPTV의 RTP 주소를 접어넣었다. 480p인 채널들과 1080i 채널들이 섞여 있었다.</p>
<p>... 그리고 문제가 있었다.</p>
<p>480p 채널들은 문제가 없었다. 약간의 딜레이 이후 간헐적인 열화가 일어났지만 나름 만족스러웠다. 문제는 1080i 영상을 송출하는 채널이었다. 끊김과 열화가 굉장히 심했다. 이상하게도 top 커맨드로 모니터링하는 비글본의 cpu 사용량은 그렇게 높지 않았다. 어쩌면 비글본의 하드웨어에 최적화된 tvheadend를 빌드하면 나아질 수도 있지 않을까 생각해본다. 시도해보지는 않았다.</p>
<p>여튼,  이제 다음 대안, 아톰계열의 미니PC에 tvheadend를 설치할 차례다.</p>

    
  </article>


          </div>
        </div>
      </div>
    </div>
    <footer class="center">
      <div class="measure">
        <small>
          &copy; Copyright 2016 by Eswar Malla.
          Theme <a href="https://github.com/eswarm/piktor">Piktor</a> by <a href="http://eswarm.in">Eswar Malla</a>, fork of <a href="https://github.com/johnotander/pixyll">Pixyll</a>
        </small>
      </div>
    </footer>
    
    <div class="ga-script">
<div id="ga-script"></div>
<script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-XXXXXXXX-Y', 'auto');
        ga('send', 'pageview');
</script>
</div>
  </body>
</html>

