<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>3. Django 시작하기 — blog</title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdn.mathjax.org">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all">
    <meta name="keywords" >
    <link rel="canonical" >
    <!-- Custom CSS -->

    <link rel="stylesheet" href="../../static/gen/styles.css?h=30966fac">
    <!--
      <link rel="stylesheet" href="../../static/pixyll.css" type="text/css">
    -->
    <script type=text/javascript src="../../static/gen/app.js?h=56f85b4f" charset="utf-8"></script>
    <link rel="stylesheet" href="../../static/pygments.css">
    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300&subset=latin-ext,latin' rel='stylesheet' type='text/css'>

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">

    <!-- MathJax -->
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  </head>

  <body class="site">
    <div class="site-wrap">
      <header class="site-header px2 px-responsive">
        <div class="mt2 wrap">
          <div class="measure">
            <a href="" class="site-title"></a>
            <nav class="site-nav">
              <a href="../../">Home</a>
              
               <a href="../../blog/">Blog</a>
              
              <a href="../../projects/">Projects</a>
              
              <a href="../../about/">About</a>
              
            </nav>
            <div class="clearfix"></div>
            
          </div>
        </div>
      </header>
      <div class="post p2 p-responsive wrap" role="main">
        <div class="measure">
          <div class="page">
            
  
  <div class="post-header mb2">
  
    <h1>3. Django 시작하기</h1>
  
  <p class="post-meta">
    <!--
    written by
    
      rockheung
    
    -->
    
    <time class="dt-published" datetime="2018-03-02 11:08:44+09:00">Mar 2, 2018, 11:08:44 AM</time>
    
  </p>
  </div>
  <article class="post-content">
    
      <h3>이 글에서는 Django를 사용할 가상환경을 만들고 프로젝트 및 앱 생성까지 진행한다.</h3>
<hr>
<p>일단 Django 개발에 사용할 파이썬 가상 환경을 만들자. 이전 글에서 virtualenvwrapper를 설치하였으므로, 같은 환경이라고 가정하겠다.</p>
<p>터미널을 띄우고 <code>mkvirtualenv</code> 를 이용해서 가상환경을 생성한다.</p>
<pre><code>$ mkvirtualenv django-blog -p python3
</code></pre>
<!--more-->

<p>파이썬 3 버전이 기본인 가상 환경이다. 이후 모든 <code>python</code> 키워드는 <code>python3</code>을 가리킬 것이다. 실제로 <code>~/.virtualenvs/django-blog/bin/</code> 경로에 가보면 <code>python</code> 심볼릭 링크가 <code>python3</code>으로 연결되어 있음을 확인할 수 있다.</p>
<p>물론 가상환경 이름과는 다르게 아직 이 환경에 설치된 파이썬 패키지를 보면 Django는 없는 것을 확인할 수 있다.</p>
<pre><code>$ pip list
EPRECATION: The default ....
pip (9.0.1)
setuptools (38.5.1)
wheel (0.30.0)
</code></pre>
<p>이제 Django를 다음 명령어를 날려 설치하자.</p>
<pre><code>$ pip install django
</code></pre>
<p>이후 <code>pip list</code>를 날리면 장고 패키지가 설치된 것을 확인할 수 있다.</p>
<hr>
<p>이제 장고 프로젝트를 새로 만들면 된다. 여기서 주의할 점이 있다. 파이썬 코드가 웹서버의 DocumentRoot에 위치하는 것은 권장하지 않는다(출처:<a href="https://docs.djangoproject.com/ko/2.0/intro/tutorial01/">docs.djangoproject.com</a>). 홈 폴더 등에 두면 좋을 것 같다.</p>
<p>다음 명령어로 홈 경로에서 프로젝트 뼈대를 만들자. 물론 파이썬 가상환경이 활성화된 상태여야 한다. 안 되어 있다면 <code>workon django-blog</code> 명령어로 활성화시킨 후 진행하자.</p>
<pre><code>$ workon django-blog
$ django-admin startproject _base
$ tree _base
_base
├── _base
│   ├── __init__.py
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
├── manage.py
</code></pre>
<p><code>tree</code>명령어가 없다면 다음 명령으로 설치할 수 있다.</p>
<pre><code>$ sudo apt install tree          # Debian / Mint / Ubuntu Linux
# yum install tree              # RHEL / CentOS / Fedora Linux
</code></pre>
<p>bash에서 $와 #의 차이는 루트 권한이냐 아니냐의 차이다. 궁금하면 지금 당장 <code>sudo -i</code>를 날려보자. root 유저로 쉘이 바뀌면서 $가 #으로 바뀔 것이다. 물론 뒤쪽 #은 주석처리된 것이다. 혹시 전부 복붙을 했는데 작동하지 않는다고 당황하지 말자. 주석에서 명시했듯이, 사용하는 리눅스의 계열에 따라 다른 명령어를 사용해야 한다. 자세한 내용은 <a href="https://namu.wiki/w/%EB%A6%AC%EB%88%85%EC%8A%A4#s-9">나무위키: 리눅스 베포판</a>에서 좀 더 알아볼 수 있겠다.</p>
<p>새로운 프로젝트를 생성했다면 작동하는지 확인해보자.</p>
<pre><code>$ python manage.py runserver
Performing system checks...

System check identified no issues (0 silenced).
March 02, 2018 - 11:36:38
Django version 2.0.2, using settings '_base.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
</code></pre>
<p>현재 원격 서버가 아닌 로컬에서 작업하고 있다면, <a href="http://localhost:8000">이 링크</a>가 작동할 것이다. 안된다면 터미널에서 서버가 실행되는지 확인하고, 웹브라우저로 터미널에서 표시되는, http로 시작하는 주소에 접속해 보자.</p>
<p>아무런 페이지를 작성하지 않았기 때문에 뭐가 뜰리 만무하다. 기본 Django 템플릿이 뜰 것이다. 다음과 같이 우주선이 출발하는 그림이 뜬다면 성공이다.</p>
<p><a href="http://res.cloudinary.com/rockheung/image/upload/v1519992906/Screenshot_from_2018-03-02_20-39-33_eoccbe.png"><img src="http://res.cloudinary.com/rockheung/image/upload/v1519992906/Screenshot_from_2018-03-02_20-39-33_eoccbe.png" alt=""></a></p>
<p>권장되지는 않지만, 만약 로컬이 아니라 외부에서 접속할 수 있도록 하고 싶다면 다음과 같은 명령을 날리고 서버의 공인 아이피에 <code>8000</code>포트로 접근하면 된다.</p>
<pre><code>$ python manage.py runserver 0:8000
</code></pre>
<p><em>절대로</em> 위와 같이 개발 서버만으로 상용 사이트를 운영하지 않기를 바란다. 어떤 보안 이슈가 있을지 알 수 없다. 장고는 개발을 위한 웹 프레임워크지, 웹 서버 툴이 아니다. 후에 다루겠지만, 개발이 완료되면 베포를 위해 nginx를 uwsgi에 연동하는 형태로 진행할 것이다.</p>
<hr>
<p>지금까지 프로젝트를 (정말 간단하게) 만들었다. 이제 여기에 실제 페이지를 구현하는데 사용할 앱을 작성해야 한다. 다음과 같은 명령으로 앱을 새롭게 생성하자. 물론 당연하게도, 프로젝트 폴더 안의 <code>manage.py</code>를 사용해야 한다.</p>
<pre><code>$ python manage.py startapp blog
$ tree blog
blog
├── admin.py
├── apps.py
├── __init__.py
├── migrations
│   └── __init__.py
├── models.py
├── tests.py
└── views.py
</code></pre>

    
  </article>


          </div>
        </div>
      </div>
    </div>
    <footer class="center">
      <div class="measure">
        <small>
          &copy; Copyright 2016 by Eswar Malla.
          Theme <a href="https://github.com/eswarm/piktor">Piktor</a> by <a href="http://eswarm.in">Eswar Malla</a>, fork of <a href="https://github.com/johnotander/pixyll">Pixyll</a>
        </small>
      </div>
    </footer>
    
    <div class="ga-script">
<div id="ga-script"></div>
<script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-XXXXXXXX-Y', 'auto');
        ga('send', 'pageview');
</script>
</div>
  </body>
</html>

